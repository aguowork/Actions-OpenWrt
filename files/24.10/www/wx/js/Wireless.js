import{e,v as l,j as a,g as s,i as t,u as i,y as o,k as d,t as n,z as r,A as u,J as c,f as p,l as g,B as v,w as m,F as b,r as h,o as _,C as f}from"./vue-vendor.js";import{u as y}from"./wireless2.js";import{c as x,a as w,T as k}from"./index.js";import{D as G}from"./Dialog.js";import{S as W}from"./Select.js";import{S as V,i as F,a as z}from"./validation.js";import{R as j}from"./radio.js";import{P as M}from"./power.js";import{W as H}from"./wifi.js";import{L as S}from"./lock.js";import{E as C,a as U}from"./eye.js";import"./wireless3.js";
/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=x("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),D=x("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),I={class:"space-y-6"},L={class:"card"},A={class:"flex items-center justify-between mb-5"},$={class:"flex items-center gap-3"},B={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-accent-500/20 to-accent-600/10 flex items-center justify-center"},J={class:"space-y-4 pt-1"},O={class:"grid grid-cols-1 gap-4"},P={class:"form-group"},R={class:"form-label"},T={class:"form-group"},q={class:"form-label"},K={class:"relative group/input"},N=["type"],Q={class:"grid grid-cols-1 gap-4"},X={class:"form-group"},Y={class:"form-label"},Z={class:"form-group"},ee={class:"form-label"},le={class:"form-group"},ae={class:"form-label"},se={class:"py-6 text-center text-slate-500"},te={class:"card"},ie={class:"flex items-center justify-between mb-5"},oe={class:"flex items-center gap-3"},de={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center"},ne={class:"space-y-4 pt-1"},re={class:"grid grid-cols-1 gap-4"},ue={class:"form-group"},ce={class:"form-label"},pe={class:"form-group"},ge={class:"form-label"},ve={class:"relative group/input"},me=["type"],be={class:"grid grid-cols-1 gap-4"},he={class:"form-group"},_e={class:"form-label"},fe={class:"form-group"},ye={class:"form-label"},xe={class:"form-group"},we={class:"form-label"},ke={class:"py-6 text-center text-slate-500"},Ge={class:"space-y-4"},We={class:"flex items-start gap-3 p-4 rounded-xl bg-warning-500/10 border border-warning-500/20"},Ve=e({__name:"Wireless",setup(e){const x=h(!1),Ve=h(!1),Fe=h({disabled_2g:"0",ssid_2g:"",key_2g:"",channel_2g:"",htmode_2g:"",hidden_2g:"",disabled_5g:"0",ssid_5g:"",key_5g:"",channel_5g:"",htmode_5g:"",hidden_5g:""}),ze=f(),je=y(),Me=w(),He=h(!1),Se=h({disabled_2g:"0",ssid_2g:"",key_2g:"",channel_2g:"",htmode_2g:"",hidden_2g:"",disabled_5g:"0",ssid_5g:"",key_5g:"",channel_5g:"",htmode_5g:"",hidden_5g:""}),Ce=[{value:"auto",label:"auto (推荐)"},...Array.from({length:13},(e,l)=>({value:String(l+1),label:`${l+1} (${2412+5*l} Mhz)`}))],Ue=[{value:"auto",label:"auto (推荐)"},{value:"36",label:"36 (5180 Mhz)"},{value:"40",label:"40 (5200 Mhz)"},{value:"44",label:"44 (5220 Mhz)"},{value:"48",label:"48 (5240 Mhz)"},{value:"149",label:"149 (5745 Mhz)"},{value:"153",label:"153 (5765 Mhz)"},{value:"157",label:"157 (5785 Mhz)"},{value:"161",label:"161 (5805 Mhz)"}];function Ee(){if(Object.keys(Se.value).some(e=>Se.value[e]!==Fe.value[e]))if("1"!==Se.value.disabled_2g||"1"!==Se.value.disabled_5g){if("0"===Se.value.disabled_2g){if(!F(Se.value.ssid_2g))return void Me.error("请输入有效的2.4G WiFi名称 (1-32字符)");if(!Se.value.key_2g)return void Me.error("请输入2.4G WiFi密码");if(!z(Se.value.key_2g))return void Me.error("2.4G WiFi密码只能包含英文、数字和符号，长度8-63位")}if("0"===Se.value.disabled_5g){if(!F(Se.value.ssid_5g))return void Me.error("请输入有效的5G WiFi名称 (1-32字符)");if(!Se.value.key_5g)return void Me.error("请输入5G WiFi密码");if(!z(Se.value.key_5g))return void Me.error("5G WiFi密码只能包含英文、数字和符号，长度8-63位")}He.value=!0}else Me.error("至少需要开启一个无线网络");else Me.error("配置未发生变化")}async function De(){He.value=!1,Me.showLoading("正在应用无线设置");await je.saveWirelessSettings(Se.value)?Me.startCountdown(60,()=>{Me.hideLoading(),ze.push({name:"status"})}):(Me.hideLoading(),Me.error(je.error||"保存失败"))}return l(async()=>{if(await je.fetchWirelessSettings(),je.wirelessSettings){const e=je.wirelessSettings,l={disabled_2g:"1"===e.disabled_2g?"1":"0",ssid_2g:e.ssid_2g||"",key_2g:e.key_2g||"",channel_2g:e.channel_2g||"auto",htmode_2g:e.htmode_2g||"HE40",hidden_2g:"1"===e.hidden_2g||"true"===e.hidden_2g?"1":"0",disabled_5g:"1"===e.disabled_5g?"1":"0",ssid_5g:e.ssid_5g||"",key_5g:e.key_5g||"",channel_5g:e.channel_5g||"auto",htmode_5g:e.htmode_5g||"HE160",hidden_5g:"1"===e.hidden_5g||"true"===e.hidden_5g?"1":"0"};Se.value={...l},Fe.value={...l}}}),(e,l)=>(_(),a(b,null,[s("div",I,[s("div",L,[s("div",A,[s("div",$,[s("div",B,[t(i(j),{class:"w-5 h-5 text-accent-400"})]),l[16]||(l[16]=s("div",null,[s("h2",{class:"text-lg font-bold text-white"},"2.4G WiFi"),s("p",{class:"text-xs text-slate-500"},"2.4GHz 频段设置")],-1))]),s("div",{class:d(["flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors cursor-pointer select-none touch-manipulation","0"===Se.value.disabled_2g?"bg-success-500/20 text-success-400":"bg-slate-700/50 text-slate-500"]),onClick:l[0]||(l[0]=o(e=>Se.value.disabled_2g="0"===Se.value.disabled_2g?"1":"0",["stop","prevent"])),style:{"-webkit-tap-highlight-color":"transparent"}},[t(i(M),{class:"w-4 h-4"}),s("span",null,n("0"===Se.value.disabled_2g?"已开启":"已关闭"),1)],2)]),s("div",{class:d(["grid-wrapper",{open:"0"===Se.value.disabled_2g,"transition-enabled":!0}])},[s("div",null,[s("div",J,[s("div",O,[s("div",P,[s("label",R,[t(i(H),{class:"w-4 h-4"}),l[17]||(l[17]=s("span",null,"WiFi 名称",-1))]),r(s("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>Se.value.ssid_2g=e),type:"text",class:"input",placeholder:"输入 2.4G WiFi 名称",autocomplete:"off"},null,512),[[u,Se.value.ssid_2g]])]),s("div",T,[s("label",q,[t(i(S),{class:"w-4 h-4"}),l[18]||(l[18]=s("span",null,"WiFi 密码",-1))]),s("div",K,[r(s("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>Se.value.key_2g=e),type:x.value?"text":"password",class:"input pr-10",placeholder:"输入 2.4G WiFi 密码",autocomplete:"off"},null,8,N),[[c,Se.value.key_2g]]),s("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-primary-400 p-1 transition-colors",onClick:l[3]||(l[3]=e=>x.value=!x.value)},[(_(),p(g(x.value?i(C):i(U)),{class:"w-4 h-4"}))])])])]),s("div",Q,[s("div",X,[s("label",Y,[t(i(D),{class:"w-4 h-4"}),l[19]||(l[19]=s("span",null,"信道",-1))]),t(W,{modelValue:Se.value.channel_2g,"onUpdate:modelValue":l[4]||(l[4]=e=>Se.value.channel_2g=e),options:Ce,placeholder:"选择 2.4G 信道",label:"选择 2.4G 无线信道"},null,8,["modelValue"])]),s("div",Z,[s("label",ee,[t(i(E),{class:"w-4 h-4"}),l[20]||(l[20]=s("span",null,"带宽",-1))]),t(W,{modelValue:Se.value.htmode_2g,"onUpdate:modelValue":l[5]||(l[5]=e=>Se.value.htmode_2g=e),options:[{value:"HE40",label:"40 MHz"},{value:"HE20",label:"20 MHz"}],placeholder:"选择频段带宽",label:"选择 2.4G 频段带宽"},null,8,["modelValue"])]),s("div",le,[s("label",ae,[t(i(C),{class:"w-4 h-4"}),l[21]||(l[21]=s("span",null,"隐藏网络",-1))]),t(W,{modelValue:Se.value.hidden_2g,"onUpdate:modelValue":l[6]||(l[6]=e=>Se.value.hidden_2g=e),options:[{value:"0",label:"否"},{value:"1",label:"是"}],placeholder:"是否隐藏 SSID",label:"选择是否隐藏 2.4G SSID"},null,8,["modelValue"])])])])])],2),s("div",{class:d(["grid-wrapper",{open:"1"===Se.value.disabled_2g,"transition-enabled":!0}])},[s("div",null,[s("div",se,[t(i(j),{class:"w-8 h-8 mx-auto mb-2 opacity-50"}),l[22]||(l[22]=s("p",null,"2.4G WiFi 已关闭",-1))])])],2)]),s("div",te,[s("div",ie,[s("div",oe,[s("div",de,[t(i(j),{class:"w-5 h-5 text-primary-400"})]),l[23]||(l[23]=s("div",null,[s("h2",{class:"text-lg font-bold text-white"},"5G WiFi"),s("p",{class:"text-xs text-slate-500"},"5GHz 频段设置")],-1))]),s("div",{class:d(["flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors cursor-pointer select-none touch-manipulation","0"===Se.value.disabled_5g?"bg-success-500/20 text-success-400":"bg-slate-700/50 text-slate-500"]),onClick:l[7]||(l[7]=o(e=>Se.value.disabled_5g="0"===Se.value.disabled_5g?"1":"0",["stop","prevent"])),style:{"-webkit-tap-highlight-color":"transparent"}},[t(i(M),{class:"w-4 h-4"}),s("span",null,n("0"===Se.value.disabled_5g?"已开启":"已关闭"),1)],2)]),s("div",{class:d(["grid-wrapper",{open:"0"===Se.value.disabled_5g,"transition-enabled":!0}])},[s("div",null,[s("div",ne,[s("div",re,[s("div",ue,[s("label",ce,[t(i(H),{class:"w-4 h-4"}),l[24]||(l[24]=s("span",null,"WiFi 名称",-1))]),r(s("input",{"onUpdate:modelValue":l[8]||(l[8]=e=>Se.value.ssid_5g=e),type:"text",class:"input",placeholder:"输入 5G WiFi 名称",autocomplete:"off"},null,512),[[u,Se.value.ssid_5g]])]),s("div",pe,[s("label",ge,[t(i(S),{class:"w-4 h-4"}),l[25]||(l[25]=s("span",null,"WiFi 密码",-1))]),s("div",ve,[r(s("input",{"onUpdate:modelValue":l[9]||(l[9]=e=>Se.value.key_5g=e),type:Ve.value?"text":"password",class:"input pr-10",placeholder:"输入 5G WiFi 密码",autocomplete:"off"},null,8,me),[[c,Se.value.key_5g]]),s("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-primary-400 p-1 transition-colors",onClick:l[10]||(l[10]=e=>Ve.value=!Ve.value)},[(_(),p(g(Ve.value?i(C):i(U)),{class:"w-4 h-4"}))])])])]),s("div",be,[s("div",he,[s("label",_e,[t(i(D),{class:"w-4 h-4"}),l[26]||(l[26]=s("span",null,"信道",-1))]),t(W,{modelValue:Se.value.channel_5g,"onUpdate:modelValue":l[11]||(l[11]=e=>Se.value.channel_5g=e),options:Ue,placeholder:"选择 5G 信道",label:"选择 5G 无线信道"},null,8,["modelValue"])]),s("div",fe,[s("label",ye,[t(i(E),{class:"w-4 h-4"}),l[27]||(l[27]=s("span",null,"带宽",-1))]),t(W,{modelValue:Se.value.htmode_5g,"onUpdate:modelValue":l[12]||(l[12]=e=>Se.value.htmode_5g=e),options:[{value:"HE160",label:"160 MHz"},{value:"HE80",label:"80 MHz"},{value:"HE40",label:"40 MHz"},{value:"HE20",label:"20 MHz"}],placeholder:"选择频段带宽",label:"选择 5G 频段带宽"},null,8,["modelValue"])]),s("div",xe,[s("label",we,[t(i(C),{class:"w-4 h-4"}),l[28]||(l[28]=s("span",null,"隐藏网络",-1))]),t(W,{modelValue:Se.value.hidden_5g,"onUpdate:modelValue":l[13]||(l[13]=e=>Se.value.hidden_5g=e),options:[{value:"0",label:"否"},{value:"1",label:"是"}],placeholder:"是否隐藏 SSID",label:"选择是否隐藏 5G SSID"},null,8,["modelValue"])])])])])],2),s("div",{class:d(["grid-wrapper",{open:"1"===Se.value.disabled_5g,"transition-enabled":!0}])},[s("div",null,[s("div",ke,[t(i(j),{class:"w-8 h-8 mx-auto mb-2 opacity-50"}),l[29]||(l[29]=s("p",null,"5G WiFi 已关闭",-1))])])],2)]),s("button",{class:"btn btn-primary w-full py-4 text-base",onClick:Ee},[t(i(V),{class:"w-5 h-5"}),l[30]||(l[30]=v(" 保存并应用设置 ",-1))])]),t(G,{visible:He.value,title:"保存确认",icon:i(V),onClose:l[15]||(l[15]=e=>He.value=!1)},{footer:m(()=>[s("button",{class:"btn btn-secondary flex-1",onClick:l[14]||(l[14]=e=>He.value=!1)},"取消"),s("button",{class:"btn btn-primary flex-1",onClick:De},[t(i(V),{class:"w-4 h-4"}),l[33]||(l[33]=v(" 确定保存 ",-1))])]),default:m(()=>[s("div",Ge,[l[32]||(l[32]=s("p",{class:"text-slate-300"},"确定要保存这些更改吗？",-1)),s("div",We,[t(i(k),{class:"w-5 h-5 text-warning-400 flex-shrink-0 mt-0.5"}),l[31]||(l[31]=s("div",{class:"text-sm"},[s("p",{class:"text-warning-300 font-medium mb-1"},"保存后 WiFi 将会重启"),s("p",{class:"text-slate-400"},"系统重启期间，WiFi连接将会断开。")],-1))])])]),_:1},8,["visible","icon"])],64))}});
/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{Ve as default};
