import{e,v as l,j as a,g as s,i as t,u as i,y as o,k as d,t as n,z as r,A as u,J as c,f as g,l as p,B as v,w as m,F as b,r as h,o as _,C as f}from"./vue-vendor.js";import{u as y}from"./wireless2.js";import{c as x,a as w,T as k,_ as G}from"./index.js";import{D as W}from"./Dialog.js";import{S as V,a as F}from"./Select.js";import{E as z,a as M,b as H,c as j}from"./validation.js";import{R as S}from"./radio.js";import{P as C}from"./power.js";import{W as U}from"./wifi.js";import{L as E}from"./lock.js";
/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=x("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),I=x("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),L={class:"space-y-6"},A={class:"card"},$={class:"flex items-center justify-between mb-5"},B={class:"flex items-center gap-3"},J={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-accent-500/20 to-accent-600/10 flex items-center justify-center"},O={class:"space-y-4 pt-1"},P={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},R={class:"form-group"},T={class:"form-label"},q={class:"form-group"},K={class:"form-label"},N={class:"relative group/input"},Q=["type"],X={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Y={class:"form-group"},Z={class:"form-label"},ee={class:"form-group"},le={class:"form-label"},ae={class:"form-group"},se={class:"form-label"},te={class:"py-6 text-center text-slate-500"},ie={class:"card"},oe={class:"flex items-center justify-between mb-5"},de={class:"flex items-center gap-3"},ne={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center"},re={class:"space-y-4 pt-1"},ue={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},ce={class:"form-group"},ge={class:"form-label"},pe={class:"form-group"},ve={class:"form-label"},me={class:"relative group/input"},be=["type"],he={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},_e={class:"form-group"},fe={class:"form-label"},ye={class:"form-group"},xe={class:"form-label"},we={class:"form-group"},ke={class:"form-label"},Ge={class:"py-6 text-center text-slate-500"},We={class:"space-y-4"},Ve={class:"flex items-start gap-3 p-4 rounded-xl bg-warning-500/10 border border-warning-500/20"},Fe=G(e({__name:"Wireless",setup(e){const x=h(!1),G=h(!1),Fe=h({disabled_2g:"0",ssid_2g:"",key_2g:"",channel_2g:"",htmode_2g:"",hidden_2g:"",disabled_5g:"0",ssid_5g:"",key_5g:"",channel_5g:"",htmode_5g:"",hidden_5g:""}),ze=f(),Me=y(),He=w(),je=h(!1),Se=h({disabled_2g:"0",ssid_2g:"",key_2g:"",channel_2g:"",htmode_2g:"",hidden_2g:"",disabled_5g:"0",ssid_5g:"",key_5g:"",channel_5g:"",htmode_5g:"",hidden_5g:""}),Ce=[{value:"auto",label:"auto (推荐)"},...Array.from({length:13},(e,l)=>({value:String(l+1),label:`${l+1} (${2412+5*l} Mhz)`}))],Ue=[{value:"auto",label:"auto (推荐)"},{value:"36",label:"36 (5180 Mhz)"},{value:"40",label:"40 (5200 Mhz)"},{value:"44",label:"44 (5220 Mhz)"},{value:"48",label:"48 (5240 Mhz)"},{value:"149",label:"149 (5745 Mhz)"},{value:"153",label:"153 (5765 Mhz)"},{value:"157",label:"157 (5785 Mhz)"},{value:"161",label:"161 (5805 Mhz)"}];function Ee(){if(Object.keys(Se.value).some(e=>Se.value[e]!==Fe.value[e]))if("1"!==Se.value.disabled_2g||"1"!==Se.value.disabled_5g){if("0"===Se.value.disabled_2g){if(!H(Se.value.ssid_2g))return void He.error("请输入有效的2.4G WiFi名称 (1-32字符)");if(!Se.value.key_2g)return void He.error("请输入2.4G WiFi密码");if(!j(Se.value.key_2g))return void He.error("2.4G WiFi密码只能包含英文、数字和符号，长度8-63位")}if("0"===Se.value.disabled_5g){if(!H(Se.value.ssid_5g))return void He.error("请输入有效的5G WiFi名称 (1-32字符)");if(!Se.value.key_5g)return void He.error("请输入5G WiFi密码");if(!j(Se.value.key_5g))return void He.error("5G WiFi密码只能包含英文、数字和符号，长度8-63位")}je.value=!0}else He.error("至少需要开启一个无线网络");else He.error("配置未发生变化")}async function De(){je.value=!1,He.showLoading("正在应用无线设置");await Me.saveWirelessSettings(Se.value)?He.startCountdown(60,()=>{He.hideLoading(),ze.push({name:"status"})}):(He.hideLoading(),He.error(Me.error||"保存失败"))}return l(async()=>{if(await Me.fetchWirelessSettings(),Me.wirelessSettings){const e=Me.wirelessSettings,l={disabled_2g:"1"===e.disabled_2g?"1":"0",ssid_2g:e.ssid_2g||"",key_2g:e.key_2g||"",channel_2g:e.channel_2g||"auto",htmode_2g:e.htmode_2g||"HE40",hidden_2g:"1"===e.hidden_2g||"true"===e.hidden_2g?"1":"0",disabled_5g:"1"===e.disabled_5g?"1":"0",ssid_5g:e.ssid_5g||"",key_5g:e.key_5g||"",channel_5g:e.channel_5g||"auto",htmode_5g:e.htmode_5g||"HE160",hidden_5g:"1"===e.hidden_5g||"true"===e.hidden_5g?"1":"0"};Se.value={...l},Fe.value={...l}}}),(e,l)=>(_(),a(b,null,[s("div",L,[s("div",A,[s("div",$,[s("div",B,[s("div",J,[t(i(S),{class:"w-5 h-5 text-accent-400"})]),l[16]||(l[16]=s("div",null,[s("h2",{class:"text-lg font-bold text-white"},"2.4G WiFi"),s("p",{class:"text-xs text-slate-500"},"2.4GHz 频段设置")],-1))]),s("div",{class:d(["flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors cursor-pointer select-none touch-manipulation","0"===Se.value.disabled_2g?"bg-success-500/20 text-success-400":"bg-slate-700/50 text-slate-500"]),onClick:l[0]||(l[0]=o(e=>Se.value.disabled_2g="0"===Se.value.disabled_2g?"1":"0",["stop","prevent"])),style:{"-webkit-tap-highlight-color":"transparent"}},[t(i(C),{class:"w-4 h-4"}),s("span",null,n("0"===Se.value.disabled_2g?"已开启":"已关闭"),1)],2)]),s("div",{class:d(["grid-wrapper",{open:"0"===Se.value.disabled_2g,"transition-enabled":!0}])},[s("div",null,[s("div",O,[s("div",P,[s("div",R,[s("label",T,[t(i(U),{class:"w-4 h-4"}),l[17]||(l[17]=s("span",null,"WiFi 名称",-1))]),r(s("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>Se.value.ssid_2g=e),type:"text",class:"input",placeholder:"输入 2.4G WiFi 名称"},null,512),[[u,Se.value.ssid_2g]])]),s("div",q,[s("label",K,[t(i(E),{class:"w-4 h-4"}),l[18]||(l[18]=s("span",null,"WiFi 密码",-1))]),s("div",N,[r(s("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>Se.value.key_2g=e),type:x.value?"text":"password",class:"input pr-10",placeholder:"输入 2.4G WiFi 密码",autocomplete:"off"},null,8,Q),[[c,Se.value.key_2g]]),s("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-primary-400 p-1 transition-colors",onClick:l[3]||(l[3]=e=>x.value=!x.value)},[(_(),g(p(x.value?i(z):i(M)),{class:"w-4 h-4"}))])])])]),s("div",X,[s("div",Y,[s("label",Z,[t(i(I),{class:"w-4 h-4"}),l[19]||(l[19]=s("span",null,"信道",-1))]),t(V,{modelValue:Se.value.channel_2g,"onUpdate:modelValue":l[4]||(l[4]=e=>Se.value.channel_2g=e),options:Ce,placeholder:"选择 2.4G 信道",label:"选择 2.4G 无线信道"},null,8,["modelValue"])]),s("div",ee,[s("label",le,[t(i(D),{class:"w-4 h-4"}),l[20]||(l[20]=s("span",null,"带宽",-1))]),t(V,{modelValue:Se.value.htmode_2g,"onUpdate:modelValue":l[5]||(l[5]=e=>Se.value.htmode_2g=e),options:[{value:"HE40",label:"40 MHz"},{value:"HE20",label:"20 MHz"}],placeholder:"选择频段带宽",label:"选择 2.4G 频段带宽"},null,8,["modelValue"])]),s("div",ae,[s("label",se,[t(i(z),{class:"w-4 h-4"}),l[21]||(l[21]=s("span",null,"隐藏网络",-1))]),t(V,{modelValue:Se.value.hidden_2g,"onUpdate:modelValue":l[6]||(l[6]=e=>Se.value.hidden_2g=e),options:[{value:"0",label:"否"},{value:"1",label:"是"}],placeholder:"是否隐藏 SSID",label:"选择是否隐藏 2.4G SSID"},null,8,["modelValue"])])])])])],2),s("div",{class:d(["grid-wrapper",{open:"1"===Se.value.disabled_2g,"transition-enabled":!0}])},[s("div",null,[s("div",te,[t(i(S),{class:"w-8 h-8 mx-auto mb-2 opacity-50"}),l[22]||(l[22]=s("p",null,"2.4G WiFi 已关闭",-1))])])],2)]),s("div",ie,[s("div",oe,[s("div",de,[s("div",ne,[t(i(S),{class:"w-5 h-5 text-primary-400"})]),l[23]||(l[23]=s("div",null,[s("h2",{class:"text-lg font-bold text-white"},"5G WiFi"),s("p",{class:"text-xs text-slate-500"},"5GHz 频段设置")],-1))]),s("div",{class:d(["flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors cursor-pointer select-none touch-manipulation","0"===Se.value.disabled_5g?"bg-success-500/20 text-success-400":"bg-slate-700/50 text-slate-500"]),onClick:l[7]||(l[7]=o(e=>Se.value.disabled_5g="0"===Se.value.disabled_5g?"1":"0",["stop","prevent"])),style:{"-webkit-tap-highlight-color":"transparent"}},[t(i(C),{class:"w-4 h-4"}),s("span",null,n("0"===Se.value.disabled_5g?"已开启":"已关闭"),1)],2)]),s("div",{class:d(["grid-wrapper",{open:"0"===Se.value.disabled_5g,"transition-enabled":!0}])},[s("div",null,[s("div",re,[s("div",ue,[s("div",ce,[s("label",ge,[t(i(U),{class:"w-4 h-4"}),l[24]||(l[24]=s("span",null,"WiFi 名称",-1))]),r(s("input",{"onUpdate:modelValue":l[8]||(l[8]=e=>Se.value.ssid_5g=e),type:"text",class:"input",placeholder:"输入 5G WiFi 名称"},null,512),[[u,Se.value.ssid_5g]])]),s("div",pe,[s("label",ve,[t(i(E),{class:"w-4 h-4"}),l[25]||(l[25]=s("span",null,"WiFi 密码",-1))]),s("div",me,[r(s("input",{"onUpdate:modelValue":l[9]||(l[9]=e=>Se.value.key_5g=e),type:G.value?"text":"password",class:"input pr-10",placeholder:"输入 5G WiFi 密码",autocomplete:"off"},null,8,be),[[c,Se.value.key_5g]]),s("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-primary-400 p-1 transition-colors",onClick:l[10]||(l[10]=e=>G.value=!G.value)},[(_(),g(p(G.value?i(z):i(M)),{class:"w-4 h-4"}))])])])]),s("div",he,[s("div",_e,[s("label",fe,[t(i(I),{class:"w-4 h-4"}),l[26]||(l[26]=s("span",null,"信道",-1))]),t(V,{modelValue:Se.value.channel_5g,"onUpdate:modelValue":l[11]||(l[11]=e=>Se.value.channel_5g=e),options:Ue,placeholder:"选择 5G 信道",label:"选择 5G 无线信道"},null,8,["modelValue"])]),s("div",ye,[s("label",xe,[t(i(D),{class:"w-4 h-4"}),l[27]||(l[27]=s("span",null,"带宽",-1))]),t(V,{modelValue:Se.value.htmode_5g,"onUpdate:modelValue":l[12]||(l[12]=e=>Se.value.htmode_5g=e),options:[{value:"HE160",label:"160 MHz"},{value:"HE80",label:"80 MHz"},{value:"HE40",label:"40 MHz"},{value:"HE20",label:"20 MHz"}],placeholder:"选择频段带宽",label:"选择 5G 频段带宽"},null,8,["modelValue"])]),s("div",we,[s("label",ke,[t(i(z),{class:"w-4 h-4"}),l[28]||(l[28]=s("span",null,"隐藏网络",-1))]),t(V,{modelValue:Se.value.hidden_5g,"onUpdate:modelValue":l[13]||(l[13]=e=>Se.value.hidden_5g=e),options:[{value:"0",label:"否"},{value:"1",label:"是"}],placeholder:"是否隐藏 SSID",label:"选择是否隐藏 5G SSID"},null,8,["modelValue"])])])])])],2),s("div",{class:d(["grid-wrapper",{open:"1"===Se.value.disabled_5g,"transition-enabled":!0}])},[s("div",null,[s("div",Ge,[t(i(S),{class:"w-8 h-8 mx-auto mb-2 opacity-50"}),l[29]||(l[29]=s("p",null,"5G WiFi 已关闭",-1))])])],2)]),s("button",{class:"btn btn-primary w-full py-4 text-base",onClick:Ee},[t(i(F),{class:"w-5 h-5"}),l[30]||(l[30]=v(" 保存并应用设置 ",-1))])]),t(W,{visible:je.value,title:"保存确认",icon:i(F),onClose:l[15]||(l[15]=e=>je.value=!1)},{footer:m(()=>[s("button",{class:"btn btn-secondary flex-1",onClick:l[14]||(l[14]=e=>je.value=!1)},"取消"),s("button",{class:"btn btn-primary flex-1",onClick:De},[t(i(F),{class:"w-4 h-4"}),l[33]||(l[33]=v(" 确定保存 ",-1))])]),default:m(()=>[s("div",We,[l[32]||(l[32]=s("p",{class:"text-slate-300"},"确定要保存这些更改吗？",-1)),s("div",Ve,[t(i(k),{class:"w-5 h-5 text-warning-400 flex-shrink-0 mt-0.5"}),l[31]||(l[31]=s("div",{class:"text-sm"},[s("p",{class:"text-warning-300 font-medium mb-1"},"保存后 WiFi 将会重启"),s("p",{class:"text-slate-400"},"系统重启期间，WiFi连接将会断开。")],-1))])])]),_:1},8,["visible","icon"])],64))}}),[["__scopeId","data-v-9db4dfc6"]]);
/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{Fe as default};
