import{d as a,r as e}from"./vue-vendor.js";import{g as t,a as n,b as r,s,c as u,d as l,e as c,f as i,h as o,r as v}from"./Dialog.js";const f=a("wireless",()=>{const a=e(null),f=e([]),y=e({}),w=e(null),g=e(!1),h=e(null);async function m(){g.value=!0,h.value=null;try{f.value=await n()}catch(a){h.value=a instanceof Error?a.message:"获取热点列表失败"}finally{g.value=!1}}return{connectionStatus:a,knownNetworks:f,wirelessSettings:y,retryStatus:w,isLoading:g,error:h,fetchConnectionStatus:async function(){g.value=!0,h.value=null;try{a.value=await t()}catch(e){h.value=e instanceof Error?e.message:"获取状态失败"}finally{g.value=!1}},fetchKnownNetworks:m,fetchWirelessSettings:async function(){g.value=!0,h.value=null;try{y.value=await r()}catch(a){h.value=a instanceof Error?a.message:"获取无线设置失败"}finally{g.value=!1}},saveWirelessSettings:async function(a){g.value=!0,h.value=null;try{return await s(a),!0}catch(e){return h.value=e instanceof Error?e.message:"保存设置失败",!1}finally{g.value=!1}},connectToWiFi:async function(a){g.value=!0,h.value=null;try{return await u(a),!0}catch(e){return h.value=e instanceof Error?e.message:"连接失败",!1}finally{g.value=!1}},saveNetwork:async function(a){try{return await l(a),await m(),!0}catch(e){return h.value=e instanceof Error?e.message:"保存失败",!1}},deleteNetworks:async function(a){try{return await c(a),await m(),!0}catch(e){return h.value=e instanceof Error?e.message:"删除失败",!1}},updateNetworkOrder:async function(a){try{return await i(a),f.value=a,!0}catch(e){return h.value=e instanceof Error?e.message:"保存排序失败",!1}},fetchRetryStatus:async function(){g.value=!0,h.value=null;try{w.value=await o()}catch(a){h.value=a instanceof Error?a.message:"获取重试状态失败"}finally{g.value=!1}},resetRetryCount:async function(){g.value=!0,h.value=null;try{return await v(),w.value&&(w.value.cq_times=0),!0}catch(a){return h.value=a instanceof Error?a.message:"重置重试计数失败",!1}finally{g.value=!1}}}});export{f as u};
